<div class="max-w-4xl mx-auto px-4 sm:px-0">
  <h2 class="text-3xl font-bold tracking-tight text-white sm:text-4xl font-mono">Collections</h2>
  <p class="mt-2 text-lg text-secondary-text">Organize your wallpapers for easier browsing.</p>

  <!-- Create Collection -->
  <div class="mt-8 bg-secondary-bg/50 p-6 rounded-lg border border-primary-border">
    <h3 class="text-xl font-bold text-white">Create New Collection</h3>
    <div class="mt-4 flex gap-2">
      <input
        type="text"
        placeholder="Enter collection name..."
        class="flex-grow bg-primary-bg border-gray-700 text-primary-text rounded-md p-2 focus:ring-2 focus:ring-accent focus:border-accent transition"
        [value]="newCollectionName()"
        (input)="onNameInput($event)"
        (keyup.enter)="createCollection()"
      />
      <button
        (click)="createCollection()"
        class="bg-accent hover:bg-opacity-80 text-white font-bold py-2 px-4 rounded-md transition-colors"
      >
        Create
      </button>
    </div>
  </div>

  <!-- Existing Collections -->
  <div class="mt-8">
    <h3 class="text-xl font-bold text-white mb-4">Your Collections</h3>
    @if (loading()) {
      <p class="text-secondary-text">Loading collections...</p>
    } @else if (collections().length === 0) {
      <div class="text-center py-10 border-2 border-dashed border-gray-700 rounded-lg">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="mx-auto h-12 w-12 text-secondary-text opacity-50"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="1"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"
          />
        </svg>
        <h3 class="mt-4 text-lg font-semibold text-white">No Collections Found</h3>
        <p class="mt-1 text-secondary-text">Create your first collection to get started.</p>
      </div>
    } @else {
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        @for (collection of collections(); track collection.id; let i = $index) {
          <div
            class="bg-secondary-bg/50 p-4 rounded-lg border border-primary-border flex justify-between items-center animate-fade-in-up"
            [style.animation-delay]="i * 50 + 'ms'"
          >
            <span class="font-medium text-primary-text">{{ collection.name }}</span>
            <button
              (click)="deleteCollection(collection)"
              class="p-1 text-secondary-text hover:text-danger transition-colors transform hover:scale-110"
              title="Delete Collection"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z"
                  clip-rule="evenodd"
                />
              </svg>
            </button>
          </div>
        }
      </div>
    }
  </div>
</div>
